// Generated by Unloop - 2026-01-08T18:37:16.015Z
// Weather Station: Monitor local weather conditions with real-time data and forecasts

import { MaterialWindow } from "@material";
import { AppData } from "data.slint";
import { DashboardScreen } from "screens.slint";
import { ForecastScreen } from "screens.slint";
import { DetailsScreen } from "screens.slint";
import { SettingsScreen } from "screens.slint";

export component App inherits MaterialWindow {
    title: "Weather Station";
    width: 800px;
    height: 480px;
    background: #1E1E1E;
    
    in-out property <string> active-screen: "dashboard";
    in-out property <AppData> data: {
        temperature: 72,
        humidity: 45,
        pressure: 30.12,
        wind-speed: 8,
        wind-direction: 180,
        feels-like: 75,
        dew-point: 58,
        uv-index: 5,
        sensor-status: "ok",
        internet-status: "ok",
        forecast-data: "[]",
        temp-unit: "Â°F",
        wind-unit: "mph",
        pressure-unit: "inHg",
        auto-refresh: true,
        refresh-interval: 5,
        location: "Current Location",
        last-update: "Never",

    };
    
    callback refresh-clicked();
    callback history-clicked();
    
    VerticalLayout {
        Rectangle {
            vertical-stretch: 1;
            
            if active-screen == "dashboard" : DashboardScreen {
                data <=> root.data;
            }

            if active-screen == "forecast" : ForecastScreen {
                data <=> root.data;
            }

            if active-screen == "details" : DetailsScreen {
                data <=> root.data;
            }

            if active-screen == "settings" : SettingsScreen {
                data <=> root.data;
            }

        }
        
        Rectangle {
            height: 80px;
            background: #2A2A2A;
            
            HorizontalLayout {
                alignment: space-evenly;
                
                Rectangle {
                    horizontal-stretch: 1;
                    
                    TouchArea {
                        clicked => { active-screen = "dashboard"; }
                    }
                    
                    VerticalLayout {
                        alignment: center;
                        spacing: 4px;
                        
                        Rectangle {
                            width: 24px;
                            height: 24px;
                        }
                        
                        Text {
                            text: "Now";
                            font-size: 12px;
                            color: active-screen == "dashboard" ? #3AA1F5 : #9E9E9E;
                            horizontal-alignment: center;
                        }
                    }
                }
                Rectangle {
                    horizontal-stretch: 1;
                    
                    TouchArea {
                        clicked => { active-screen = "forecast"; }
                    }
                    
                    VerticalLayout {
                        alignment: center;
                        spacing: 4px;
                        
                        Rectangle {
                            width: 24px;
                            height: 24px;
                        }
                        
                        Text {
                            text: "Forecast";
                            font-size: 12px;
                            color: active-screen == "forecast" ? #3AA1F5 : #9E9E9E;
                            horizontal-alignment: center;
                        }
                    }
                }
                Rectangle {
                    horizontal-stretch: 1;
                    
                    TouchArea {
                        clicked => { active-screen = "details"; }
                    }
                    
                    VerticalLayout {
                        alignment: center;
                        spacing: 4px;
                        
                        Rectangle {
                            width: 24px;
                            height: 24px;
                        }
                        
                        Text {
                            text: "Details";
                            font-size: 12px;
                            color: active-screen == "details" ? #3AA1F5 : #9E9E9E;
                            horizontal-alignment: center;
                        }
                    }
                }
                Rectangle {
                    horizontal-stretch: 1;
                    
                    TouchArea {
                        clicked => { active-screen = "settings"; }
                    }
                    
                    VerticalLayout {
                        alignment: center;
                        spacing: 4px;
                        
                        Rectangle {
                            width: 24px;
                            height: 24px;
                        }
                        
                        Text {
                            text: "Settings";
                            font-size: 12px;
                            color: active-screen == "settings" ? #3AA1F5 : #9E9E9E;
                            horizontal-alignment: center;
                        }
                    }
                }
            }
        }
    }
}
